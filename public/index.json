[{"content":"\r\rTables\rThis is a brief summary with R code of latest tables for contractor types by US regions.\nRetrieval of data from US Bureau of Labor Statistics using blsAPI library.\r# install_github(\u0026quot;mikeasilva/blsAPI\u0026quot;)\rlibrary(blsAPI)\rlibrary(ggplot2)\rlibrary(dplyr)\r## ## Attaching package: \u0026#39;dplyr\u0026#39;\r## The following objects are masked from \u0026#39;package:stats\u0026#39;:\r## ## filter, lag\r## The following objects are masked from \u0026#39;package:base\u0026#39;:\r## ## intersect, setdiff, setequal, union\rpayload \u0026lt;- list( \u0026#39;seriesid\u0026#39; = c( \u0026quot;PCU236400236400\u0026quot;\r, \u0026quot;PCU2364002364001\u0026quot;\r, \u0026quot;PCU23640023640011\u0026quot;\r, \u0026quot;PCU23640023640012\u0026quot;\r, \u0026quot;PCU23640023640013\u0026quot;\r, \u0026quot;PCU23640023640014\u0026quot;\r, \u0026quot;PCU236400236400221\u0026quot;\r, \u0026quot;PCU2364002364002211\u0026quot;\r, \u0026quot;PCU2364002364002212\u0026quot;\r, \u0026quot;PCU2364002364002213\u0026quot;\r, \u0026quot;PCU2364002364002214\u0026quot;\r, \u0026quot;PCU236400236400222\u0026quot;\r, \u0026quot;PCU2364002364002221\u0026quot;\r, \u0026quot;PCU2364002364002222\u0026quot;\r, \u0026quot;PCU2364002364002223\u0026quot;\r, \u0026quot;PCU2364002364002224\u0026quot;\r, \u0026quot;PCU236400236400223\u0026quot;\r, \u0026quot;PCU2364002364002231\u0026quot;\r, \u0026quot;PCU2364002364002232\u0026quot;\r, \u0026quot;PCU2364002364002233\u0026quot;\r, \u0026quot;PCU2364002364002234\u0026quot;\r, \u0026quot;PCU236400236400224\u0026quot;\r, \u0026quot;PCU2364002364002241\u0026quot;\r, \u0026quot;PCU2364002364002242\u0026quot;\r, \u0026quot;PCU2364002364002243\u0026quot;\r, \u0026quot;PCU2364002364002244\u0026quot;\r)\r, \u0026#39;startyear\u0026#39; = 2010\r, \u0026#39;endyear\u0026#39; = 2030\r, \u0026#39;registrationKey\u0026#39; = mykey\r)\rresponse \u0026lt;- blsAPI(payload, 2, return_data_frame = TRUE)\rresponse2 \u0026lt;- response\rresponse2$seriesID \u0026lt;- as.factor(response2$seriesID)\rlevels(response2$seriesID) \u0026lt;-list(Contractors = \u0026quot;PCU236400236400\u0026quot;\r, GC = \u0026quot;PCU2364002364001\u0026quot;\r, GC_NE = \u0026quot;PCU23640023640011\u0026quot;\r, GC_S = \u0026quot;PCU23640023640012\u0026quot;\r, GC_MW = \u0026quot;PCU23640023640013\u0026quot;\r, GC_W = \u0026quot;PCU23640023640014\u0026quot;\r, MP = \u0026quot;PCU236400236400221\u0026quot;\r, MP_NE = \u0026quot;PCU2364002364002211\u0026quot;\r, MP_S = \u0026quot;PCU2364002364002212\u0026quot;\r, MP_MW = \u0026quot;PCU2364002364002213\u0026quot;\r, MP_NE = \u0026quot;PCU2364002364002214\u0026quot;\r, EL = \u0026quot;PCU236400236400222\u0026quot;\r, EL_NE = \u0026quot;PCU2364002364002221\u0026quot;\r, EL_S = \u0026quot;PCU2364002364002222\u0026quot;\r, EL_MW = \u0026quot;PCU2364002364002223\u0026quot;\r, EL_W = \u0026quot;PCU2364002364002224\u0026quot;\r, ROOF = \u0026quot;PCU236400236400223\u0026quot;\r, ROOF_NE = \u0026quot;PCU2364002364002231\u0026quot;\r, ROOF_S = \u0026quot;PCU2364002364002232\u0026quot;\r, ROOF_MW = \u0026quot;PCU2364002364002233\u0026quot;\r, ROOF_W = \u0026quot;PCU2364002364002234\u0026quot;\r, CS = \u0026quot;PCU236400236400224\u0026quot;\r, CS_NE = \u0026quot;PCU2364002364002241\u0026quot;\r, CS_S = \u0026quot;PCU2364002364002242\u0026quot;\r, CS_MW = \u0026quot;PCU2364002364002243\u0026quot;\r, CS_W = \u0026quot;PCU2364002364002244\u0026quot;\r)\rresponse2$contractorType \u0026lt;- ifelse(grepl(\u0026quot;MP_\u0026quot;, response2$seriesID),\u0026quot;Mechanical \u0026amp; Plumbing\u0026quot;, ifelse(\rgrepl(\u0026quot;EL_\u0026quot;, response2$seriesID),\u0026quot;Electrical\u0026quot;, ifelse(\rgrepl(\u0026quot;CS_\u0026quot;, response2$seriesID), \u0026quot;Concrete and Structural\u0026quot;,ifelse(\rgrepl(\u0026quot;ROOF_\u0026quot;, response2$seriesID),\u0026quot;Roofing\u0026quot;, ifelse(\rgrepl(\u0026quot;GC\u0026quot;, response2$seriesID),\u0026quot;General Contractor\u0026quot;, \u0026quot;Contractor\u0026quot;))))\r)\rresponse2$region \u0026lt;- ifelse(grepl(\u0026quot;_NE\u0026quot;, response2$seriesID),\u0026quot;Northeast\u0026quot;, ifelse(\rgrepl(\u0026quot;_S\u0026quot;, response2$seriesID),\u0026quot;South\u0026quot;, ifelse(\rgrepl(\u0026quot;_MW\u0026quot;, response2$seriesID), \u0026quot;Midwest\u0026quot;, ifelse(\rgrepl(\u0026quot;_W\u0026quot;, response2$seriesID), \u0026quot;West\u0026quot;, \u0026quot;All\u0026quot;)))\r)\rresponse2$period \u0026lt;-gsub(\u0026quot;M\u0026quot;,\u0026quot;\u0026quot;,response2$period)\rresponse2$date \u0026lt;- as.Date(with(response2, paste(year, period, \u0026quot;1\u0026quot;, sep=\u0026quot;-\u0026quot;)), \u0026quot;%Y-%m-%d\u0026quot;)\rresponse2$contractorType \u0026lt;- as.factor(response2$contractorType)\rresponse2$region \u0026lt;- as.factor(response2$region)\rresponse2$value \u0026lt;- as.numeric(response2$value)\rsummary(response2)\r## year period periodName value ## Length:2392 Length:2392 Length:2392 Min. : 93.6 ## Class :character Class :character Class :character 1st Qu.:102.5 ## Mode :character Mode :character Mode :character Median :108.0 ## Mean :110.5 ## 3rd Qu.:116.6 ## Max. :144.8 ## ## seriesID contractorType region ## MP_NE : 184 Concrete and Structural:368 All :552 ## Contractors: 92 Contractor :460 Midwest :460 ## GC : 92 Electrical :368 Northeast:552 ## GC_NE : 92 General Contractor :460 South :460 ## GC_S : 92 Mechanical \u0026amp; Plumbing :368 West :368 ## GC_MW : 92 Roofing :368 ## (Other) :1748 ## date ## Min. :2014-02-01 ## 1st Qu.:2015-12-24 ## Median :2017-11-16 ## Mean :2017-11-15 ## 3rd Qu.:2019-10-08 ## Max. :2021-09-01 ## myPlot \u0026lt;- ggplot(response2, aes(x= date, y= value, group= region, color= contractorType)) +\rgeom_point() +\rgeom_path()\r# library(plotly)\r# # response2 %\u0026gt;% # group_by(region, contractorType) %\u0026gt;% # plot_ly(x=~date, y = ~value, group=~region, type=\u0026quot;scatter\u0026quot;, color= ~contractorType)\rplot(myPlot)\r\r\rIncluding Plots\rYou can also embed plots. See Figure 1 for example:\npar(mar = c(0, 1, 0, 1))\rpie(\rc(280, 60, 20),\rc(\u0026#39;Sky\u0026#39;, \u0026#39;Sunny side of pyramid\u0026#39;, \u0026#39;Shady side of pyramid\u0026#39;),\rcol = c(\u0026#39;#0292D8\u0026#39;, \u0026#39;#F7EA39\u0026#39;, \u0026#39;#C4B632\u0026#39;),\rinit.angle = -50, border = NA\r)\r\rFigure 1: A fancy pie chart.\r\r\r","permalink":"https://dhruvhirani.netlify.app/post/2020-12-01-r-rmarkdown/","summary":"Tables\rThis is a brief summary with R code of latest tables for contractor types by US regions.\nRetrieval of data from US Bureau of Labor Statistics using blsAPI library.\r# install_github(\u0026quot;mikeasilva/blsAPI\u0026quot;)\rlibrary(blsAPI)\rlibrary(ggplot2)\rlibrary(dplyr)\r## ## Attaching package: \u0026#39;dplyr\u0026#39;\r## The following objects are masked from \u0026#39;package:stats\u0026#39;:\r## ## filter, lag\r## The following objects are masked from \u0026#39;package:base\u0026#39;:\r## ## intersect, setdiff, setequal, union\rpayload \u0026lt;- list( \u0026#39;seriesid\u0026#39; = c( \u0026quot;PCU236400236400\u0026quot;\r, \u0026quot;PCU2364002364001\u0026quot;\r, \u0026quot;PCU23640023640011\u0026quot;\r, \u0026quot;PCU23640023640012\u0026quot;\r, \u0026quot;PCU23640023640013\u0026quot;\r, \u0026quot;PCU23640023640014\u0026quot;\r, \u0026quot;PCU236400236400221\u0026quot;\r, \u0026quot;PCU2364002364002211\u0026quot;\r, \u0026quot;PCU2364002364002212\u0026quot;\r, \u0026quot;PCU2364002364002213\u0026quot;\r, \u0026quot;PCU2364002364002214\u0026quot;\r, \u0026quot;PCU236400236400222\u0026quot;\r, \u0026quot;PCU2364002364002221\u0026quot;\r, \u0026quot;PCU2364002364002222\u0026quot;\r, \u0026quot;PCU2364002364002223\u0026quot;\r, \u0026quot;PCU2364002364002224\u0026quot;\r, \u0026quot;PCU236400236400223\u0026quot;\r, \u0026quot;PCU2364002364002231\u0026quot;\r, \u0026quot;PCU2364002364002232\u0026quot;\r, \u0026quot;PCU2364002364002233\u0026quot;\r, \u0026quot;PCU2364002364002234\u0026quot;\r, \u0026quot;PCU236400236400224\u0026quot;\r, \u0026quot;PCU2364002364002241\u0026quot;\r, \u0026quot;PCU2364002364002242\u0026quot;\r, \u0026quot;PCU2364002364002243\u0026quot;\r, \u0026quot;PCU2364002364002244\u0026quot;\r)\r, \u0026#39;startyear\u0026#39; = 2010\r, \u0026#39;endyear\u0026#39; = 2030\r, \u0026#39;registrationKey\u0026#39; = mykey\r)\rresponse \u0026lt;- blsAPI(payload, 2, return_data_frame = TRUE)\rresponse2 \u0026lt;- response\rresponse2$seriesID \u0026lt;- as.","title":"US Non-residential Construction Contractors by Trade"}]